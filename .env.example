# ============================================================================
# MaaS Platform - Environment Variables
# Copy this file to .env and fill in the values
# ============================================================================

# Application
NODE_ENV=development
PORT=3000
LOG_LEVEL=debug

# Database (PostgreSQL + PostGIS + TimescaleDB)
DATABASE_URL=postgres://maas:maas_dev_password@localhost:5432/maas_db

# Redis Cache
REDIS_URL=redis://localhost:6379

# JWT Authentication
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRATION=24h

# CORS
CORS_ORIGIN=*

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# Provider API Keys (encrypted in production)
# ============================================================================

# Bolt API (for taxi/ride-hailing)
BOLT_API_KEY=
BOLT_CLIENT_ID=

# Uber API
UBER_CLIENT_ID=
UBER_CLIENT_SECRET=



# ============================================================================
# GBFS Feed URLs (public, no auth required)
# ============================================================================

# Bolt Scooters
BOLT_GBFS_URL=https://mds.bolt.eu/gbfs/v2/waw

# Tier
TIER_GBFS_URL=https://platform.tier-services.io/v2/gbfs/warsaw

# Dott
DOTT_GBFS_URL=https://gbfs.api.ridedott.com/public/v2/warsaw

# ============================================================================
# GTFS Feed URLs
# ============================================================================

# ZTM Warszawa
ZTM_GTFS_STATIC_URL=https://www.ztm.waw.pl/google-transit/gtfs.zip
ZTM_GTFS_REALTIME_URL=https://www.ztm.waw.pl/gtfsrt/
ZTM_API_KEY=54c6975e-193b-4954-b593-e0da6f6b5eb0

# ============================================================================
# Polling Intervals (milliseconds)
# ============================================================================

GBFS_POLLING_INTERVAL=10000
GTFS_RT_POLLING_INTERVAL=5000
TAXI_POLLING_INTERVAL=30000

# ============================================================================
# Cache TTL (seconds)
# ============================================================================

CACHE_TTL_VEHICLES=15
CACHE_TTL_STATIONS=60
CACHE_TTL_GTFS_STATIC=86400
CACHE_TTL_SESSION=3600

# ============================================================================
# Spatial Query Defaults
# ============================================================================

DEFAULT_SEARCH_RADIUS_METERS=500
MAX_SEARCH_RADIUS_METERS=5000
DEFAULT_MAP_ENTITY_LIMIT=100

# ============================================================================
# WebSocket Configuration
# ============================================================================

WEBSOCKET_PORT=3001
WEBSOCKET_PING_INTERVAL=25000
WEBSOCKET_PING_TIMEOUT=20000

# ============================================================================
# Monitoring & Observability
# ============================================================================

# Sentry (error tracking)
SENTRY_DSN=

# New Relic / Datadog
APM_ENABLED=false
APM_LICENSE_KEY=

# ============================================================================
# AWS Configuration (Production)
# ============================================================================

AWS_REGION=eu-central-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# S3 for GTFS file storage
S3_GTFS_BUCKET=maas-gtfs-data

# ============================================================================
# Docker/Kubernetes
# ============================================================================

# pgAdmin
PGADMIN_EMAIL=admin@maas.local
PGADMIN_PASSWORD=admin

# ============================================================================
# OpenTripPlanner (Phase 2: Routing Engine)
# ============================================================================

# OTP GraphQL API URL (internal Docker network)
OTP_URL=http://otp:8080/otp/routers/default/index/graphql

# OTP Configuration
OTP_GRAPH_BUILD_MEMORY=8G
OTP_SERVE_MEMORY=4G

# GBFS Feeds for OTP Vehicle Rental Updater
OTP_GBFS_BOLT_URL=https://mds.bolt.eu/gbfs/2/422/gbfs
OTP_GBFS_TIER_URL=https://platform.tier-services.io/v2/gbfs/warsaw/gbfs.json
OTP_GBFS_LIME_URL=https://data.lime.bike/api/partners/v2/gbfs/warsaw/gbfs.json
OTP_GBFS_VETURILO_URL=https://gbfs.nextbike.net/maps/gbfs/v2/nextbike_pw/gbfs.json

